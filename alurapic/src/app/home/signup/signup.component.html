<h4 class="text-center">Register to embrace a new world!</h4>

<form [formGroup]="signupForm" class="form mt-4" (submit)="signUp()">
    <div class="form-group mb-3">
        <input
            #emailInput
            formControlName="email"
            class="form-control"
            placeholder="Email"
            autofocus
        />
        <app-vmessage
            *ngIf="
                signupForm.get('email')?.errors?.required &&
                signupForm.get('email')?.touched
            "
            text="Email is required"
        ></app-vmessage>
        <app-vmessage
            *ngIf="
                signupForm.get('email')?.errors?.email &&
                signupForm.get('email')?.touched
            "
            text="Invalid e-mail"
        ></app-vmessage>
    </div>
    <div class="form-group mb-3">
        <input
            formControlName="fullName"
            class="form-control"
            placeholder="Full name"
        />
        <app-vmessage
            *ngIf="
                signupForm.get('fullName')?.errors?.required &&
                signupForm.get('fullName')?.touched
            "
            text="Full name is required"
        ></app-vmessage>
        <app-vmessage
            *ngIf="
                signupForm.get('fullName')?.errors?.minlength &&
                signupForm.get('fullName')?.touched
            "
            text="Minimum length is 2"
        ></app-vmessage>
        <app-vmessage
            *ngIf="
                signupForm.get('fullName')?.errors?.maxlength &&
                signupForm.get('fullName')?.touched
            "
            text="Maximum length is 40"
        ></app-vmessage>
    </div>
    <div class="form-group mb-3">
        <input
            formControlName="userName"
            class="form-control"
            placeholder="User name"
        />
        <app-vmessage
            *ngIf="
                signupForm.get('userName')?.errors?.required &&
                signupForm.get('userName')?.touched
            "
            text="User name is required"
        ></app-vmessage>
        <app-vmessage
            *ngIf="
                signupForm.get('userName')?.errors?.minlength &&
                signupForm.get('userName')?.touched
            "
            text="Minimum length is 2"
        ></app-vmessage>
        <app-vmessage
            *ngIf="
                signupForm.get('userName')?.errors?.maxlength &&
                signupForm.get('userName')?.touched
            "
            text="Maximum length is 30"
        ></app-vmessage>
        <app-vmessage
            *ngIf="
                signupForm.get('userName')?.errors?.lowercase &&
                signupForm.get('userName')?.touched
            "
            text="Must be lower case"
        ></app-vmessage>
        <app-vmessage
            *ngIf="signupForm.get('userName')?.errors?.userNameTaken"
            text="User name is already taken"
        ></app-vmessage>
        <small
            *ngIf="signupForm.get('userName')?.valid || signupForm.pending"
            class="text-success"
            >User name available</small
        >
    </div>
    <div class="form-group mb-3">
        <input
            formControlName="password"
            type="password"
            class="form-control"
            placeholder="Password"
        />
        <app-vmessage
            *ngIf="
                signupForm.get('password')?.errors?.required &&
                signupForm.get('password')?.touched
            "
            text="Password is required"
        ></app-vmessage>
        <app-vmessage
            *ngIf="
                signupForm.get('password')?.errors?.minlength &&
                signupForm.get('password')?.touched
            "
            text="Minimum length is 8"
        ></app-vmessage>
        <app-vmessage
            *ngIf="
                signupForm.get('password')?.errors?.maxlength &&
                signupForm.get('password')?.touched
            "
            text="Maximum length is 14"
        ></app-vmessage>
    </div>

    <div class="d-grid gap-2">
        <button class="btn btn-primary">Register</button>
    </div>

    <p>Already a user? <a [routerLink]="['']">Sign In!</a></p>
</form>
